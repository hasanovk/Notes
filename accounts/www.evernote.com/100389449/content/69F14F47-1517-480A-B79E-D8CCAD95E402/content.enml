<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div><span style="font-size: 24px; font-weight: bold;">Nginx Installation on FreeSD 11.1</span></div><div><br /></div><div>#: Written by KFH: <a href="mailto:karshi.hasanov@utoronto.ca">karshi.hasanov@utoronto.ca</a></div><div>#: Date: Nov. 10, 2017</div><div>#: Description: Simple the Nginx installtion and test</div><div>#: Last Modified: Dec. 8, 2017</div><div># - Just added the Log Files Session</div><div><br /></div><div># Update the FreeBSD Ports first.</div><div>=&gt; sudo sudo portsnap fetch update</div><div><br /></div><div># Install the Nginx from the Ports Treee</div><div>=&gt;<span style="font-weight: bold;"> cd</span> <span style="color: rgb(148, 17, 0);">/usr/ports/www/nginx</span></div><div>=&gt;<span style="color: rgb(255, 47, 146);"> sudo</span> <span style="font-weight: bold;">make install clean</span></div><div># Leave the defaults for now</div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">Configuring the Nginx : “nginx.conf”</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Edit the "/usr/local/etc/nginx/nginx.conf” file :</span></div><div><span style="color: rgb(146, 146, 146);"># Modified or Added lines are shown only!</span></div><div><hr /></div><div><b>user</b> <font color="#ff40ff">www</font></div><div><b>worker_processes</b> <font color="#ff40ff">4</font>;</div><div><span style="font-weight: bold;">…</span></div><div><span style="color: rgb(4, 51, 255);">serve</span>r {</div><div>      <span style="font-weight: bold;">  listen</span>        <span style="color: rgb(4, 51, 255);">192.168.150</span>:<span style="color: rgb(0, 145, 147);">8888</span> ;</div><div>        <span style="font-weight: bold;">server_name</span> <span style="color: rgb(148, 17, 0);">freebsd.karshi.ca</span> ;</div><div><span style="font-weight: bold;">...</span></div><div><hr /><div><br /></div></div><div><span style="font-size: 24px; font-weight: bold;">Starting the Nginx Server</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Enable the Server in the “/etc/rc.conf” file</span></div><div><span style="color: rgb(4, 51, 255);">nginx_enable=</span>"<span style="color: rgb(0, 145, 147);">YES</span>"</div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Start the server:</span></div><div>=&gt; <span style="color: rgb(255, 47, 146);">sudo </span><span style="font-weight: bold;">service</span> <span style="color: rgb(4, 51, 255);">nginx</span> <span style="color: rgb(0, 143, 0);">start</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Check its status</span>:</div><div>=&gt;<span style="font-weight: bold;"> service</span> <span style="color: rgb(4, 51, 255);">nginx</span> <span style="color: rgb(146, 144, 0);">status</span></div><div><span style="color: rgb(146, 146, 146);">nginx is running as pid 611</span></div><div># To see all the options for the “service nginx” command:</div><div>=&gt;<span style="font-weight: bold;"> service</span><span style="color: rgb(4, 51, 255); font-weight: bold;"> </span><span style="color: rgb(4, 51, 255);">nginx</span> <span style="color: rgb(148, 23, 81);">-h</span> <span style="font-weight: bold;"> |</span> <span style="color: rgb(148, 23, 81);">—help</span></div><div> # Commonly used options are:</div><div> # <span style="color: rgb(0, 143, 0);">start</span>, <span style="color: rgb(255, 47, 146);">stop</span>,<span style="color: rgb(0, 145, 147);"> restart</span>, <span style="color: rgb(0, 145, 147);">reload</span>, <span style="color: rgb(0, 150, 255);">configtest</span>, <span style="color: rgb(255, 64, 255);">gracefulstop</span>,<span style="color: rgb(146, 144, 0);"> status</span></div><div><span style="color: rgb(146, 146, 146);"># Check the port it listens:</span></div><div>=&gt; <span style="font-weight: bold;">lsof -i </span>TCP:<span style="color: rgb(0, 145, 147);">8888</span></div><div>=&gt;<span style="font-weight: bold;"> sockstat -4 | grep</span> <span style="color: rgb(0, 145, 147);">8888</span></div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">The Nginx Log Files</span></div><div># By the default , the FreeBSD puts them here:</div><div><span style="color: rgb(148, 17, 0);">/var/log/nginx/</span><span style="color: rgb(0, 143, 0);">access.log</span>   and <span style="color: rgb(148, 17, 0);">/var/log/nginx</span>/<span style="color: rgb(255, 47, 146);">error.log</span></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div></en-note>