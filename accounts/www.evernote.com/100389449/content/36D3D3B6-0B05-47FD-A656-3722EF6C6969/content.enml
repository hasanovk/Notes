<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div>MariaDB 10.2 on FreeBSD Server</div><div><br /></div><div><span style="font-weight: bold; text-decoration: underline;">Install the MariaDB  from the Ports</span> </div><div>=&gt; cd /usr/ports/databases/mariadb102-server</div><div>=&gt; sudo make install</div><div># Add the line in the “<span style="font-weight: bold;">/etc/rc.conf</span> ” : <span style="color: rgb(148, 17, 0);">mysql_enable</span>=“<span style="color: rgb(0, 145, 147);">YES</span>"</div><div><br /></div><div><span style="font-weight: bold; text-decoration: underline;">The MariaDB Server Configuration Files</span></div><div><br /></div><div>The example files are located in the “/usr/local/share/mysql/“:</div><div><span style="color: rgb(145, 145, 145);">-rw-r--r--  1 root  wheel   4898 Jul  2 01:56 /usr/local/share/mysql/my-huge.cnf</span></div><div><span style="color: rgb(145, 145, 145);">-rw-r--r--  1 root  wheel  20421 Jul  2 01:56 /usr/local/share/mysql/my-innodb-heavy-4G.cnf</span></div><div><span style="color: rgb(145, 145, 145);">-rw-r--r--  1 root  wheel   4885 Jul  2 01:56 /usr/local/share/mysql/my-large.cnf</span></div><div><span style="color: rgb(145, 145, 145);">-rw-r--r--  1 root  wheel   4898 Jul  2 01:56 /usr/local/share/mysql/my-medium.cnf</span></div><div><span style="color: rgb(145, 145, 145);">-rw-r--r--  1 root  wheel   2824 Jul  2 01:56 /usr/local/share/mysql/my-small.cnf</span></div><div>( I use the medium sized server)</div><div>=&gt;<span style="font-weight: bold;"> sudo cp</span><span style="color: rgb(148, 17, 0);"> /usr/local/share/mysql/my-medium.cnf</span> <span style="color: rgb(0, 84, 147);">/usr/local/etc/my.cnf</span></div><div># To allow access from outside, I added the following line in the “<span style="color: rgb(0, 84, 147);">/usr/local/etc/my.cn</span>f” file:</div><div><span style="color: rgb(148, 17, 0);">bind-address</span>  =<span style="color: rgb(0, 145, 147);"> 192.168.100.150</span>  <span style="color: rgb(94, 94, 94);"># My server IP Address 192.168.100.150 and the port 3306</span></div><div><span style="color: rgb(94, 94, 94);"><br /></span></div><div><b><font style="font-size: 18px;">Start the MariaDB first time</font></b></div><div><font color="#5e5e5e">=&gt; <span style="font-weight: bold; color: rgb(94, 94, 94);">sudo</span><span style="color: rgb(94, 94, 94);">  </span><span style="font-weight: bold; color: rgb(94, 94, 94);">service</span><span style="color: rgb(94, 94, 94);"> </span><span style="color: rgb(4, 51, 255);">mysql-server</span><span style="color: rgb(79, 143, 0);"> onestart</span></font></div><div><br /></div><div><b><font style="font-size: 18px;">Changing the Root Password</font></b></div><div>=&gt; sudo /usr/local/bin/mysqladmin -u root password H***3</div><div>=&gt; sudo /usr/local/bin/mysqladmin -u root -h kfh.karshi.ca password H***3</div><div>( make sure that your hostname is in the “/etc/hosts” file)</div><div><br /></div><div><br /></div><div><span style="font-weight: bold; text-decoration: underline;">Starting and Stopping the Server</span></div><div>=&gt;<span style="font-weight: bold;"> sudo</span>  <span style="font-weight: bold;">service</span> <span style="color: rgb(4, 51, 255);">mysql-server</span><span style="color: rgb(79, 143, 0);"> start </span>| <span style="color: rgb(255, 38, 0);">stop</span></div><div>=&gt;<span style="font-weight: bold;"> sudo</span><span style="color: rgb(148, 17, 0);"> /usr/local/etc/rc.d/</span><span style="color: rgb(4, 51, 255);">mysql-server</span> <span style="color: rgb(79, 143, 0);">start</span><span style="color: rgb(94, 94, 94);"> </span><span style="color: rgb(79, 143, 0);"> </span><span style="color: rgb(94, 94, 94);">| </span><span style="color: rgb(255, 38, 0);">stop</span><span style="color: rgb(94, 94, 94);">    # the old way</span></div><div><br /></div><div><span style="font-weight: bold; text-decoration: underline;">To check the Server Status</span></div><div>=&gt; <span style="font-weight: bold;">service mysql-server</span> <span style="color: rgb(83, 27, 147);">status</span></div><div>=&gt;<span style="font-weight: bold;"> netstat -an | grep</span> 3306</div><div><br /></div><div><hr /></div><div><span style="font-size: 24px; font-weight: bold;">Installing the phpMyAdmin</span></div><div><br /></div><div>=&gt;<span style="font-weight: bold;"> cd</span> <span style="color: rgb(148, 17, 0);">/usr/ports/databases/phpmyadmin</span></div><div>=&gt; <span style="color: rgb(255, 47, 146);">sudo</span><span style="font-weight: bold;"> make install clean</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Edit the “/usr/local/etc/apache24/httpd.conf”</span></div><div><span style="color: rgb(146, 146, 146);"># and add the following lines inside the</span>  <span style="color: rgb(121, 121, 121); font-weight: bold;">&lt;IfModule alias_module&gt;</span></div><div>        …</div><div>       <span style="color: rgb(0, 143, 0);">Alias /phpmyadmin/ "/usr/local/</span><a href="http://www/phpMyAdmin/" style="color: rgb(0, 143, 0);">www/phpMyAdmin/</a><span style="color: rgb(0, 143, 0);">“</span></div><div><span style="color: rgb(0, 143, 0);">      &lt;Directory "/usr/local/</span><a href="http://www/phpMyAdmin/" style="color: rgb(0, 143, 0);">www/phpMyAdmin/</a><span style="color: rgb(0, 143, 0);">"&gt;</span></div><div><span style="color: rgb(0, 143, 0);">        Options None</span></div><div><span style="color: rgb(0, 143, 0);">        AllowOverride Limit</span></div><div><span style="color: rgb(0, 143, 0);">        Require all granted</span></div><div><span style="color: rgb(0, 143, 0);">    &lt;/Directory&gt;</span></div><div>    …</div><div>=&gt; <span style="color: rgb(255, 47, 146);">sudo</span> <span style="font-weight: bold;">apachectl graceful</span></div><div><hr /><div><br /></div></div><div><span style="font-weight: bold; text-decoration: underline;">How Set  the  Root password</span></div><div><span style="color: rgb(121, 121, 121);">Note: The default password is empty !</span></div><div>There are two ways to change the password:</div><ol start="1"><li>Recommended way. This command will also give you the option of removing the test databases and anonymous user created by default.</li></ol><div>    =&gt;<span style="font-weight: bold;"> sudo</span> <span style="color: rgb(148, 17, 0);">/usr/local/bin/</span><span style="font-weight: bold;">mysql_secure_installation</span></div><div><br /></div><div><ol start="2"><li>=&gt;<span style="font-weight: bold;"> sudo</span> <span style="color: rgb(148, 17, 0);">/usr/local/bin/</span><span style="font-weight: bold;">mysqladmin</span> <span style="color: rgb(4, 51, 255);">-u</span><span style="color: rgb(255, 38, 0);"> root</span> <span style="color: rgb(4, 51, 255);">password</span> H***3</li></ol><div><br /></div><div><ol start="3"><li>=&gt;<span style="font-weight: bold;"> sudo</span> mysql -u root -p &lt;Enter&gt;</li></ol><div>       <span style="font-weight: bold;">mysql&gt; </span><span style="color: rgb(4, 51, 255);">UPDATE</span> <span style="color: rgb(148, 55, 255);">user</span> <span style="color: rgb(4, 51, 255);">SET</span> <span style="color: rgb(148, 55, 255);">Password=</span>‘H***3’ <span style="color: rgb(4, 51, 255);">WHERE</span> <span style="color: rgb(148, 55, 255);">User=</span>‘<span style="font-weight: bold;">root</span>’;</div></div><div>       <span style="font-weight: bold;">mysql&gt;</span> <span style="color: rgb(4, 51, 255);">FLUSH PRIVILEGES</span>;</div><div>       <span style="font-weight: bold;">mysql&gt;</span> <span style="color: rgb(4, 51, 255);">QUIT</span>;</div><div><br /></div><div>How To Create a User and Give full privileges</div><div><br /></div><div>=&gt;<span style="font-weight: bold;"> mysql</span> <span style="color: rgb(148, 17, 0);">-u</span><span style="color: rgb(255, 38, 0);"> root</span> <span style="color: rgb(148, 17, 0);">-p</span>                  </div><div>=&gt;<span style="font-weight: bold;"> show</span> <span style="color: rgb(0, 144, 81);">databases</span>;                <span style="color: rgb(121, 121, 121);">  # Show available databases</span></div><div>=&gt; <span style="font-weight: bold;">use</span> <span style="color: rgb(0, 144, 81);">mysql</span>;                           <span style="color: rgb(121, 121, 121);"> # Switch to the mysql database</span></div><div>=&gt;<span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(4, 51, 255);">CREATE</span><span style="font-weight: bold;"> User</span> khasanov;     <span style="color: rgb(121, 121, 121);"> # Create the user khasanov</span></div><div>=&gt;<span style="color: rgb(4, 51, 255);"> SELECT</span><span style="font-weight: bold;"> Use</span>r <span style="color: rgb(4, 51, 255);">FROM</span><span style="color: rgb(148, 17, 0);"> user</span>;   <span style="color: rgb(121, 121, 121);"># Show the users in the</span><span style="color: rgb(148, 82, 0);"> user</span><span style="color: rgb(121, 121, 121);"> Table</span> </div><div><br /></div><div><span style="color: rgb(145, 145, 145);"># To grant all the privileges to the all databases for the user khasanov at localhost (127.0.0.1):</span></div><div>=&gt;<span style="color: rgb(4, 51, 255);"> GRANT ALL PRIVILEGES ON</span> <span style="font-weight: bold;">*.*</span><span style="color: rgb(4, 51, 255);"> TO</span> ‘<span style="font-weight: bold;">khasanov</span>’<span style="font-weight: bold;">@</span>‘<span style="font-weight: bold;">localhost</span>’ <span style="color: rgb(4, 51, 255);">IDENTIFIED BY</span> ‘Hydrogen3’;</div><div>=&gt; <span style="color: rgb(4, 51, 255);">FLUSH PRIVILEGES</span>;</div></div><div><br /></div><div><span style="color: rgb(145, 145, 145);"># To see the privileges for the user khasanov:</span></div><div>=&gt; <span style="color: rgb(4, 51, 255);">SHOW GRANTS FOR</span> <span style="font-weight: bold;">‘khasanov’@‘localhost’</span>;</div><div><br /></div><div><span style="color: rgb(121, 121, 121);"># To allow the user “khasanov” remote login from IP = 192.168.100.100</span></div><div> =&gt;<span style="color: rgb(4, 51, 255);"> GRANT ALL PRIVILEGES ON</span> <span style="font-weight: bold;">*.*</span><span style="color: rgb(4, 51, 255);"> TO</span> ‘<span style="font-weight: bold;">khasanov</span>’<span style="font-weight: bold;">@</span>‘<span style="font-weight: bold;">192.168.100.100</span>’ <span style="color: rgb(4, 51, 255);">IDENTIFIED BY</span> ‘Hydrogen3’;</div><div>=&gt; <span style="color: rgb(4, 51, 255);">FLUSH PRIVILEGES</span>;</div><div><br /></div><div><span style="color: rgb(121, 121, 121);"># To allow the user “khasanov” remote login from ANY IP ADDRESS:</span></div><div> =&gt;<span style="color: rgb(4, 51, 255);"> GRANT ALL PRIVILEGES ON</span> <span style="font-weight: bold;">*.*</span><span style="color: rgb(4, 51, 255);"> TO</span> ‘<span style="font-weight: bold;">khasanov</span>’<span style="font-weight: bold;">@</span>‘<span style="font-weight: bold;">%</span>’ <span style="color: rgb(4, 51, 255);">IDENTIFIED BY</span> ‘Hydrogen3’;</div><div>=&gt; <span style="color: rgb(4, 51, 255);">FLUSH PRIVILEGES</span>;</div><div><br /></div></en-note>