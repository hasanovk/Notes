<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div style="-evernote-webclip:true"><div style="display: inline-block;"><div style="outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; background-position: 0% 0%; background-repeat: repeat repeat;"><div style="outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: rgb(44, 44, 41); background-position: 0% 0%; background-repeat: repeat repeat;"><div style="outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; text-align: left; background-position: 0% 0%; background-repeat: repeat repeat;"><div style="outline: currentcolor none 0px; vertical-align: baseline; background-image: url(file:///Applications/Evernote.app/Contents/Resources/common-editor-mac/&amp;quot;images/wider/content_middle.png&amp;quot;); background-attachment: scroll; background-color: rgb(255, 255, 255); background-position: 0% 0%; background-repeat: no-repeat repeat;"><div style="outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; background-position: 0% 0%; background-repeat: repeat repeat;"><div style="outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; overflow: hidden; background-position: 0% 0%; background-repeat: repeat repeat;"><div style="border: 0px none; outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; margin: 1px 0px 15px; padding: 2px; background-position: 0% 0%; background-repeat: repeat repeat;"><div><span style="background-color: transparent;">            </span><span style="font-size: 18px; background-color: transparent; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">The Project Goal</span></div><div><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">We want to setup our FreeBSD Server as a Router.</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">Our Server has two interfaces “em0” and “em1”. First interface (“em0”) will be</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">facing to upper router, which is the Bell Internet Router. Will call this as a WAN</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">since it faces outside of our server.</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">All our local computers will be connected to the interface “em1” through a switch or hub.</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">1. Our first task is make sure that “em0” and “em1” talks each other. To do that all we need</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">    is to put the line </span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">gateway_enable</span><span style="color: rgb(44, 44, 41); font-family: Tahoma;">=“</span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">YES</span><span style="color: rgb(44, 44, 41); font-family: Tahoma;">” in our “/etc/rc.config”.</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">2. Second task is to enable the NAT , but the NAT need a firewall to enabled. There are three of</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">   them. We decided to go with the “IPFW” ( reasons are explained in my “Firewall-IPFW” notice).</span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">3. We have to tell the NAT to forwad some of the ports which are open behind the interfaces “em1”.</span></div><div><br /></div><div><font style="font-size: 18px;"><span style="font-size: 18px; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">Initial Setup and Testing</span></font></div><div style="font-size: 14px;"><div><br /></div><div><span style="font-size: 14px; font-weight: bold;">Step 1</span><span style="font-size: 14px;">:  Edit the </span><span style="font-size: 14px; font-weight: bold;"> </span><span style="font-size: 14px; color: rgb(148, 82, 0); font-weight: bold;">/etc/rc.conf </span><span style="font-size: 14px;">file and add the following lines:</span></div></div><div style="font-size: 14px;"><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">           </span><span style="font-size: 14px; color: rgb(146, 146, 146); font-family: Tahoma;"> # WAN connection , the Wide Areria Network is connected to the first ethernet card</span></span></div><div style="font-size: 14px;"><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">           </span><span style="font-size: 14px; color: rgb(148, 17, 0); font-family: Tahoma; font-weight: bold;"> </span><span style="font-size: 14px; color: rgb(148, 17, 0); font-family: Tahoma;">ifconfig_em0</span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">=</span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">"</span><span style="font-size: 14px; color: rgb(4, 51, 255); font-family: Tahoma;">inet</span><span style="font-size: 14px; font-family: Tahoma;"> </span><span style="font-size: 14px; color: rgb(0, 145, 147); font-family: Tahoma;">192.168.100.250</span><span style="font-size: 14px; font-family: Tahoma;"> </span><span style="font-size: 14px; color: rgb(4, 51, 255); font-family: Tahoma;">netmask</span><span style="font-size: 14px; color: rgb(0, 145, 147); font-family: Tahoma;"> 255.255.255.0</span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">"</span></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">             </span><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(146, 146, 146); font-family: Tahoma;"># Default gateway</span></span></div><div><span style="color: rgb(146, 146, 146); font-family: Tahoma;">            # For now, we don’t have the DNS setup in our server, so have to use WAN’s DNS</span></div><div style="font-size: 14px;"><div><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">           </span><span style="font-size: 14px; color: rgb(148, 17, 0); font-family: Tahoma;"> defaultrouter</span></span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">="</span><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 145, 147); font-family: Tahoma;">192.168.100.1</span></span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">" </span></div></div></div><div style="border: 0px none; outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; margin: 1px 0px 15px; padding: 2px; background-position: 0% 0%; background-repeat: repeat repeat;"><div style="font-size: 14px;"><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">            </span><span style="font-size: 14px; color: rgb(146, 146, 146); font-family: Tahoma;"># LAN connection, the second ethernet card where all Local Network computers are connected.</span></span></div><div><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">           </span><span style="font-size: 14px; color: rgb(148, 17, 0); font-family: Tahoma;"> ifconfig_em1</span></span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">="</span><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(4, 51, 255); font-family: Tahoma;">inet</span></span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;"> </span><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 145, 147); font-family: Tahoma;">172.16.0.1</span></span><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;"> </span><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(4, 51, 255); font-family: Tahoma;">netmask</span></span><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 145, 147); font-family: Tahoma;"> 255.255.255.0</span></span><span style="color: rgb(44, 44, 41); font-family: Tahoma;">”</span></div><div style="font-size: 14px;"><div><br /></div></div><div style="font-size: 14px;"><div><span style="font-size: 14px;"><span style="font-size: 14px; color: rgb(44, 44, 41); font-family: Tahoma;">           </span><span style="font-size: 14px; color: rgb(146, 146, 146); font-family: Tahoma;"> # Enable IP Forwarding</span></span></div></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">          </span><span style="color: rgb(148, 17, 0); font-family: Tahoma;">  gateway_enable</span><span style="color: rgb(44, 44, 41); font-family: Tahoma;">=“</span><span style="color: rgb(0, 143, 0); font-family: Tahoma;">YES</span><span style="color: rgb(44, 44, 41); font-family: Tahoma;">”</span></div><div><br /></div><div>            <span style="color: rgb(146, 146, 146);"># Firewall</span></div><div>           <span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(148, 17, 0);">firewall_enable</span>="<span style="color: rgb(0, 143, 0);">YES</span>"</div><div>            <span style="color: rgb(148, 17, 0);">firewall_type</span>="<span style="color: rgb(0, 143, 0);">OPEN</span>"</div><div><br /></div><div>          <span style="color: rgb(146, 146, 146);">  </span><span style="color: rgb(146, 146, 146);"># NAT</span></div><div>           <span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(148, 17, 0);">natd_enable</span>="<span style="color: rgb(0, 143, 0);">YES</span>"</div><div>            <span style="color: rgb(148, 17, 0);">natd_interface</span>="<span style="color: rgb(255, 64, 255);">em0</span>"</div><div>           <span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(148, 17, 0);">natd_flags</span>=“"</div><div><br /></div><div><span style="font-weight: bold;">Step 2:</span> Edit the <span style="color: rgb(148, 82, 0); font-weight: bold;">/boot/loader.conf</span> and add the lines</div><div>            <span style="color: rgb(148, 17, 0);">ipfw_load</span>="<span style="color: rgb(0, 143, 0);">YES</span>"</div><div>           <span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(148, 17, 0);">ipdivert_load</span>="<span style="color: rgb(0, 143, 0);">YES</span>"</div><div>            <span style="color: rgb(148, 17, 0);">net.inet.ip.fw.default_to_accept</span>=“1"</div><div><br /></div><div><span style="font-weight: bold;">Step 3</span>: To test the router, an external PC will be connected to the second (“em1”) interface.</div><div>             <span style="color: rgb(146, 146, 146);"># Netwrok settings:</span></div><div>            <span style="color: rgb(148, 17, 0);"> IP</span> = <span style="color: rgb(4, 51, 255);">172.16.0.10</span>  <span style="color: rgb(146, 146, 146);"># Any IP other then 172.16.0.0/1/250 would be fine</span></div><div>             <span style="color: rgb(148, 17, 0);">Netmask </span>= <span style="color: rgb(4, 51, 255);">255.255.255.0</span></div><div>            <span style="color: rgb(146, 146, 146);"># The default gateway to reach ouside World. </span></div><div>           <span style="color: rgb(148, 17, 0);"> Gateway </span>= <span style="color: rgb(4, 51, 255);">172.16.0.1</span></div><div>            <span style="color: rgb(146, 146, 146);"># Since we don’t have our DNS server, we ask the Bell Router to resolve the request.</span></div><div>          <span style="color: rgb(148, 17, 0);">  DNS </span>= <span style="color: rgb(4, 51, 255);">192.168.100.1</span></div></div><div style="border: 0px none; outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; margin: 1px 0px 15px; padding: 2px; background-position: 0% 0%; background-repeat: repeat repeat;"><div><span style="font-size: 18px;"><span style="font-size: 18px; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">The Port Redirection</span></span></div><div style="font-size: 14px;"><div><br /></div><div><span style="font-size: 14px;">By default, any web services or applications running on the local servers are not allowed</span></div><div><span style="font-size: 14px;">allowed the external users to access. For example, if we have the Apache Web Server </span></div><div><span style="font-size: 14px;">running behind the second ethernet card (“em1”) and its port 80 is open to serve. The Internet</span></div><div><span style="font-size: 14px;">users will not able to view our web pages unless we setup the Port redirection.</span></div><div><br /></div><div><span style="font-size: 14px; font-weight: bold;">Step 1</span><span style="font-size: 14px;">: We need to create /etc/natd.conf and setup the rules.</span></div><div><span style="font-size: 14px;">             </span><span style="font-size: 14px; color: rgb(146, 146, 146);"># /etc/natd.conf: Allow access to the Apache Web</span></div><div><span style="font-size: 14px;">             </span><span style="font-size: 14px; color: rgb(148, 17, 0);">redirect_port </span><span style="font-size: 14px; color: rgb(0, 145, 147);">tcp</span><span style="font-size: 14px; color: rgb(4, 51, 255);"> 172.16.0.110</span><span style="font-size: 14px;">:</span><span style="font-size: 14px; color: rgb(0, 150, 255);">80</span><span style="font-size: 14px;"> </span><span style="font-size: 14px; color: rgb(0, 143, 0);">80</span></div><div><span style="font-size: 14px; font-weight: bold;">Step 2</span><span style="font-size: 14px;">: We have to tell the NAT to use this rule. Edit the /etc/rc.conf file and modify the line:</span></div><div><span style="font-size: 14px;">             </span><span style="font-size: 14px; color: rgb(148, 17, 0);">natd_flags</span><span style="font-size: 14px;">="</span><span style="font-size: 14px; font-weight: bold;">-f</span><span style="font-size: 14px;"> </span><span style="font-size: 14px; color: rgb(4, 51, 255);">/etc/natd.conf</span><span style="font-size: 14px;">"</span></div></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px; font-weight: bold;">Rules Syntax</span><span style="font-size: 14px;">: </span><span style="font-size: 14px; color: rgb(148, 17, 0);">redirect_port </span><span style="font-size: 14px; color: rgb(0, 145, 147);">protocol </span><span style="font-size: 14px; color: rgb(4, 51, 255);">Target_IP</span><span style="font-size: 14px;">:</span><span style="font-size: 14px; color: rgb(0, 150, 255);">Target_Port </span><span style="font-size: 14px;"> </span><span style="font-size: 14px; color: rgb(0, 144, 81);">Target_Port</span></div><div style="font-size: 14px;"><span style="font-size: 14px; color: rgb(146, 146, 146);">Note: The “Taget_Port” can be the range of ports, such as 2000-3000.</span><span style="font-size: 14px;">    </span></div><div style="font-size: 14px;"><span style="font-size: 14px;"><br /></span></div><div style="font-size: 14px;"><span style="font-size: 14px;"><b>Step 3</b>: <font color="#929292">Restart the NAT</font></span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            =&gt; <span style="font-size: 14px;"><font color="#ff2f92">sudo</font> <b>service</b> <font color="#9437ff">natd</font> <font color="#008f00">restart</font></span></span></div></div><div style="border: 0px none; outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; margin: 1px 0px 15px; padding: 2px; background-position: 0% 0%; background-repeat: repeat repeat;"><div><span style="background-color: transparent; background-image: none; background-attachment: scroll; border: 0px none; margin: 0px; outline: currentcolor none 0px; padding: 0px; vertical-align: baseline; background-position: 0% 0%; background-repeat: repeat repeat;"><span style="background-color: transparent; font-size: 18px; color: rgb(44, 44, 41); font-family: Tahoma; font-weight: bold;">Setting Up the DHCP Server</span></span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">The local users needs to get thier PC get IP from the DHCP server. We don’t want to set each PC </span></div><div><span style="color: rgb(44, 44, 41); font-family: Tahoma;">with a static IP. So, lets install the DHCP server.</span></div><div><br /></div><div>Step1: Installing the DHCP Server</div><div>            =&gt; cd /usr/ports/net/isc-dhcp44-server</div><div>            =&gt; sudo make install clean </div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">Step 2: Configuring the DHCP Service</span></div><div style="font-size: 14px;"><div><span style="font-size: 14px;">            =&gt; cd /usr/local/etc</span></div></div><div style="font-size: 14px;"><span style="font-size: 14px;">            =&gt; sudo cp dhcpd.conf dhcpd.conf_orig</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            </span></div><div>            # The “dhcpd.conf” file.</div><div style="font-size: 14px;"><span style="font-size: 14px;">            </span><span style="background-color: transparent; font-size: 14px;"># This option specifies the default search domain that will be </span><span style="background-color: transparent; font-size: 14px;">provided to clients</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            option domain-name "karshi.ca";</span></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # For now we don't have the DNS setup, so Bell's router will be used</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # &lt;= option domain-name-servers 192.168.100.1;</span></div><div>            # Now we have our DNS Server at 192.168.100.250</div><div style="font-size: 14px;"><div><span style="font-size: 14px;">            option domain-name-servers 192.168.100.250;</span></div></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">            default-lease-time 600;</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            max-lease-time 72400;</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            ddns-update-style none;</span></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # If this DHCP server is the official DHCP server for the local</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # network, the authoritative directive should be uncommented.</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            authoritative;</span></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # Use this to send dhcp log messages to a different log file </span></div><div style="font-size: 14px;"><span style="background-color: transparent; font-size: 14px;">            log-facility local7;</span></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # This line creates a pool of available IP addresses which are reserved</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # for allocation to DHCP clients.</span></div><div style="font-size: 14px;"><div><span style="background-color: transparent; font-size: 14px;">            subnet 172.16.0.0 netmask 255.255.255.0 {</span></div></div><div style="font-size: 14px;"><span style="font-size: 14px;">                      range 172.16.0.10 172.16.0.20;</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">                      </span><span style="background-color: transparent; font-size: 14px;">option routers 172.16.0.1;</span></div><div style="font-size: 14px;"><span style="background-color: transparent; font-size: 14px;">                      option subnet-mask 255.255.255.0</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            }</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">           # The end of the “dhcpcd.conf” file </span></div><div style="font-size: 14px;"><div><br /></div></div><div style="font-size: 14px;"><span style="font-size: 14px;">Step 3: Add the folling lines in /etc/rc.conf:</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">            # DHCP Server</span></div><div>            dhcpd_enable="YES"</div><div style="font-size: 14px;"><span style="font-size: 14px;">            dhcpd_ifaces=“em1"</span></div><div style="font-size: 14px;"><br /></div><div style="font-size: 14px;"><span style="font-size: 14px;">Note: If you have 3 network cards and you want an other subnet with 10.x.x.x</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">          add this into the “dhcpd.conf” file and update the “/etc/rc.conf” file</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">          # dhcpd.conf</span></div><div style="font-size: 14px;"><div><span style="font-size: 14px;">          </span></div><div><span style="font-size: 14px;">            subnet 10.0.0.0 netmask 255.255.255.0 {</span></div></div><div style="font-size: 14px;"><span style="font-size: 14px;">  </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">range 10.0.0.10 10.0.0.20;</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">  </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">option routers 10.0.0.1;</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">                      option subnet-mask 255.255.255.0</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">}</span></div><div style="font-size: 14px;"><span style="font-size: 14px;">           # /etc/rc.conf</span></div><div><span style="font-size: 14px;">           ifconfig_em2="inet 10.0.0.1 netmask 255.255.255.0</span>”</div><div style="font-size: 14px;"><span style="font-size: 14px;">           <span style="font-size: 14px;"># DHCP Server</span></span></div><div>            dhcpd_enable="YES"</div><div><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">    </span><span style="font-size: 14px;">dhcpd_ifaces=“em1 em2</span>”</div><div><br /></div><div>—————————————————————————————————————————————</div><div><span style="color: rgb(146, 146, 146);">The package version (isc-dhcp43-server-4.3.6_1) message:</span></div><div><span style="color: rgb(146, 146, 146);">****  To setup dhcpd, please edit /usr/local/etc/dhcpd.conf.</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);">****  This port installs the dhcp daemon, but doesn't invoke dhcpd by default.</span></div><div><span style="color: rgb(146, 146, 146);">      If you want to invoke dhcpd at startup, add these lines to /etc/rc.conf:</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_enable="YES"                # dhcpd enabled?</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_flags="-q"                # command option(s)</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_conf="/usr/local/etc/dhcpd.conf"    # configuration file</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_ifaces=""                # ethernet interface(s)</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_withumask="022"            # file creation mask</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);">****  If compiled with paranoia support (the default), the following rc.conf</span></div><div><span style="color: rgb(146, 146, 146);">      options are also supported:</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_chuser_enable="YES"        # runs w/o privileges?</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_withuser="dhcpd"        # user name to run as</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_withgroup="dhcpd"        # group name to run as</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_chroot_enable="YES"        # runs chrooted?</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_devfs_enable="YES"        # use devfs if available?</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_rootdir="/var/db/dhcpd"    # directory to run in</span></div><div><span style="color: rgb(146, 146, 146);">        dhcpd_includedir="&lt;some_dir&gt;"    # directory with config-</span></div><div><span style="color: rgb(146, 146, 146);">                          files to include</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);">****  WARNING: never edit the chrooted or jailed dhcpd.conf file but</span></div><div><span style="color: rgb(146, 146, 146);">      /usr/local/etc/dhcpd.conf instead which is always copied where</span></div><div><span style="color: rgb(146, 146, 146);">      needed upon startup.</span></div></div><div style="font-size: 14px; border: 0px none; outline: currentcolor none 0px; vertical-align: baseline; background-image: none; background-attachment: scroll; background-color: transparent; margin: 1px 0px 15px; padding: 2px; background-position: 0% 0%; background-repeat: repeat repeat;"><div><br /></div></div></div></div></div></div></div></div></div></div><div><br /></div></en-note>