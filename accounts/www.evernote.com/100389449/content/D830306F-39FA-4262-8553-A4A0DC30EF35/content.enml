<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note style="zoom: 1;"><div>Frequently Used POSIX Commands</div><div><br/></div><div><span style="font-weight: bold;"><font color="#ff40ff">top</font></span></div><div>   <font color="#929292"> # To see the CPU usage in order:</font></div><div>    =&gt; <span style="font-weight: bold;">top</span> <span style="font-weight: bold;">-o</span> <font color="#0433ff">cpu</font></div><div>   <font color="#929292"> # To show the processes owned by a user:</font></div><div>    =&gt;<span style="font-weight: bold;"> top -U</span> <font color="#941100">khasanov</font></div><div><br/></div><div><br/></div><div><b><font color="#ff40ff">netstat</font></b></div><div>    <font color="#929292"># To see if the TCP Port is open:</font><br/></div><div>    =&gt;<b> netstat -an</b> | <b>grep</b> <font color="#008f00">80</font><br/></div><div><font color="#008f00"><br/></font></div><div><font color="#ff40ff"><b>nmap</b> </font></div><div><span>    <span style="font: 18.0px Helvetica;">=&gt;</span><span style="font-style: normal; font-variant-caps: normal; font-size: 18px; line-height: normal; font-family: Helvetica;"><b> nmap</b></span><span style="font: 18.0px Helvetica;">  <font color="#941100">hotname</font> or<font color="#941100"> IP_Address </font><font color="#929292"># Regular scan</font></span></span></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><span>    </span>=&gt;<b> nmap -A -T4 -v</b> <font color="#941100"> hostname</font><font color="#929292"> </font></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Intense scan</font></span><br/></div><div><span style="font: 18.0px Helvetica;"> <span>   </span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">=&gt; <b>nmap -sS -sU -T4 -A - v</b>  <font color="#941100">hostname</font> </span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Intense scan plus UDP</font></span></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">    =&gt;<b> nmap -p 1-65535 -T4 -A -v</b> <span style="font-size: 18px; line-height: normal; font-family: Helvetica;"> <font color="#941100">hostname</font><font color="#929292"> </font></span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Intense scan, all TCP ports</font></span><br/></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">    =&gt;<b> nmap -T4 -A -v -Pn</b> <span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#941100"> hostname</font><font color="#929292"> </font></span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Intense scan, no ping</font></span><br/></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">    =&gt; <b>nmap -sn</b> <span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#941100"> hostname</font> </span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Ping scan</font></span><br/></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">    =&gt;<b> nmap -T4 -F</b> <span style="font-size: 18px; line-height: normal; font-family: Helvetica;"> <font color="#941100">hostname</font> </span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Quick scan</font></span><br/></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">    =&gt; <b>nmap -sV -T4 -O -F --version-light </b><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#941100"> hostname</font> </span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Quick scan plus</font></span><br/></div><div><span style="font-size: 18px; line-height: normal; font-family: Helvetica;">    =&gt;<b> nmap -sn --traceroute</b> <span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#941100"> hostname</font> </span></span><span style="font-size: 18px; line-height: normal; font-family: Helvetica;"><font color="#929292"># Quick traceroute</font></span><br/></div><div><span style="font-family: Helvetica; font-size: 18px;">    </span><font face="Helvetica">=&gt; </font><b><font face="Helvetica">nmap -sS -sU -T4 -A -v -PE -PP -PS80,443 -PA3389 -PU40125 -PY -g 53 --script &quot;default or (discovery and safe)”<font color="#941100"> hostname </font></font></b><br/></div><div><br/></div><div><b><font color="#ff40ff">diff</font></b></div><div><span>    <font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;">=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;"> diff </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(148, 23, 81);">-r</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(0, 143, 0);"> Folder_A</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(4, 51, 255);">Folder_B</span></font></span></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;">     This will show difference</font></span></div><div><font style="font-size: 18px;"><br/></font></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(121, 121, 121);"><font style="font-size: 18px;"><span>    </span>If you want to see what files are in FolderA which are not in FolderB</font></span></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    </span>=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;"> diff</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(148, 23, 81);">-r</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(0, 143, 0);"> Folder_A</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(4, 51, 255);">Folder_B</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> | </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;">grep</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(0, 143, 0);">Folder_A</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;">    </span></font></div><div><font style="font-size: 18px;"><br/></font></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(121, 121, 121);"><font style="font-size: 18px;"><span>    </span>Or to see what files are in FolderB which are not in FolderA</font></span></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    </span>=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;"> diff</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(148, 23, 81);">-r</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(0, 143, 0);">Folder_A</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(4, 51, 255);">Folder_B</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> | </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;">grep</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(4, 51, 255);"> Folder_B</span></font></div><div><font style="font-size: 18px;"><br/></font></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(121, 121, 121);"><font style="font-size: 18px;"><span>    </span>You can also save the results in a file</font></span></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    </span>=&gt; </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;"> diff</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(148, 23, 81);">-r</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(0, 143, 0);">Folder_A</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(4, 51, 255);"> Folder_B</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> | </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;">grep</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(0, 143, 0);"> Folder_A </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> | </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica; font-weight: bold;">awk</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> '{</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(148, 23, 81);">print</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> $4}' &gt; </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica; color: rgb(83, 27, 147);">diff_AB.txt</span></font></div><div><br/></div><div><span>   # How to use the “diff” command to create and apply patches:</span></div><div><span style="font: 17.0px Helvetica;">   # To create  a patch file</span></div><div><span style="font: 17.0px Helvetica;"><span>    </span>=&gt; </span><span style="font: 17.0px Helvetica; font-weight: bold;">diff -u</span><span style="font: 17.0px Helvetica;"> </span><span style="font: 17.0px Helvetica; font-style: italic;">orig_file</span><span style="font: 17.0px Helvetica;">  </span><span style="font: 17.0px Helvetica; font-style: italic;">new_file</span><span style="font: 17.0px Helvetica;"> &gt; patch.diff</span></div><div><span style="font: 17.0px Helvetica;"><span>   # To a</span>pply a patch:</span></div><div><span/><span style="font: 17.0px Helvetica;"><span>    </span>=&gt; </span><span style="font: 17.0px Helvetica; font-weight: bold;">patch</span><span style="font: 17.0px Helvetica;"> </span><span style="font: 17.0px Helvetica; font-style: italic;">orig_file</span><span style="font: 17.0px Helvetica;"> &lt; patch.diff</span></div><div><br/></div><div><br/><span style="font: 17.0px Helvetica;"> <font color="#ff40ff">  </font></span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-family: Helvetica;"><b><font style="font-size: 18px;" color="#ff40ff"> lsof</font></b></span></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span><font style="font-size: 18px;">    <span>    <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(94, 94, 94); font-family: Helvetica;"># List the user 'khasanov' opened files</span></span></font></span></span></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;"> lsof</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> -u </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(4, 51, 255); font-family: Helvetica;">khasanov</span></font></div><div><font style="font-size: 18px;"><span style="color: rgb(94, 94, 94); font-family: Helvetica;"><span>    <span>    </span></span># Find the processes running on a specific TCP Port  (replace TCP with UDP)</span><br/></font></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt; </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">lsof -i</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(148, 23, 81); font-family: Helvetica;"> TCP</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(1, 25, 147); font-family: Helvetica;">1721</span></font></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;"><span>    <span>    </span></span>Note: You can also search range of the ports</font></span></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;"> lsof</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">-i</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(148, 23, 81); font-family: Helvetica;">TCP</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(1, 25, 147); font-family: Helvetica;">1700-1721</span></font></div><div><span style="color: rgb(94, 94, 94); font-family: Helvetica;"><font style="font-size: 18px;"><br/></font></span></div><div><font style="font-size: 18px;"><span style="color: rgb(94, 94, 94); font-family: Helvetica;"><span>    <span>    </span></span># Find the processes running on a specific Port</span><br/></font></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;"> lsof -i</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> :</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(1, 25, 147); font-family: Helvetica;">1720</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;">      (just don't put TCP/UDP front of &quot;:&quot;)</span></font></div><div><font style="font-size: 18px;"><br style="font-family: Helvetica;"/></font></div><div><font style="font-size: 18px;"><span style="color: rgb(94, 94, 94); font-family: Helvetica;"><span>    <span>    </span></span># List all open files by a specific process ID</span><br/></font></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt;</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;"> lsof</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">-p</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> &lt;ID&gt;</span></font></div><div><font style="font-size: 18px;"><span style="color: rgb(94, 94, 94); font-family: Helvetica;"><span>    <span>    </span></span># To see who is using the SSH server</span><br/></font></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt; </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">lsof</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">-i</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">-a</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">-c</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(148, 23, 81); font-family: Helvetica;">ssh       </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font color="#929292"># </font></span></font><font color="#929292"><span style="font-size: 18px; font-family: Helvetica;">&quot;a&quot; - means AND </span><span style="font-size: 18px; font-family: Helvetica;">&quot;c&quot; - means a command&quot;</span></font></div><div><font style="font-size: 18px;"><span style="color: rgb(94, 94, 94); font-family: Helvetica;"><span>    <span>    </span></span># If you don't want to see the &quot;root&quot; user in the list, exclude it</span><br/></font></div><div><font style="font-size: 18px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><span>    <span>    </span></span>=&gt; </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">lsof -i</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"> </span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; font-weight: bold; font-family: Helvetica;">-u^</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(255, 38, 0); font-family: Helvetica;">root</span></font></div><div><span style="font: 17.0px Helvetica;"><br/></span></div><div><span style="font: 17.0px Helvetica;"><br/></span></div><div><span style="font: 17.0px Helvetica;"><br/></span></div><div><span style="font: 17.0px Helvetica;"><br/></span></div><div><span style="font: 17.0px Helvetica;"><br/></span></div></en-note>
