<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note style="zoom: 1;"><div><font style="font-size: 24px;"><b><u>Installation</u></b></font></div><div><font style="font-size: 18px;">Note: I set the VM memory to 24GB = 24576 MB</font></div><div><font style="font-size: 18px;"><br/></font></div><div><font style="font-size: 18px;"><b>Step 1</b>. <i><b>Create the OpenStreet User under Ubuntu</b></i></font></div><div><font style="font-size: 18px;">=&gt; sudo useradd -m -p hassan3 osm</font></div><div><font style="font-size: 18px;"># Add the user osm to the &quot;sudo&quot; group</font></div><div><font style="font-size: 18px;">=&gt; sudo usermod -a -G sudo osm</font></div><div><font style="font-size: 18px;"><br/></font></div><div><font style="font-size: 18px;"><b>Step 2</b>.<b><i> Installing Required Software</i></b></font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install build-essential automake gcc libxml2-dev wget git libtool libbz2-dev bc</font></div><div><font style="font-size: 18px;"># PHP related</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install php5 php-pear php5-pgsql php5-json</font></div><div><font style="font-size: 18px;"># PostgreSQL Server and Development Libs</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get install -y postgresql # Version - 9.3</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get install -y postgresql-server-dev-9.3</font></div><div><font style="font-size: 18px;"># PostGIS is a spatial database extender for PostgreSQL</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get install -y postgis</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get install -y postgresql-9.3-postgis-2.1</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get install -y postgresql-contrib libpq-dev</font></div><div><font style="font-size: 18px;"># Osmosis and Geos related packages</font></div><div><font style="font-size: 18px;">-&gt; sudo apt-get -y install libgeos-dev libgeos-c1 libgeos++-dev proj-bin libproj-dev osmosis</font></div><div><font style="font-size: 18px;"># Apache Installation ( see my notes on the Apache Server )</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install apache2</font></div><div><font style="font-size: 18px;"># I don't know why we need this</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install python-gdal</font></div><div><font style="font-size: 18px;"># Add Protobuf Support</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install libprotobuf-c0-dev protobuf-c-compiler</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install libboost-all-dev</font></div><div><font style="font-size: 18px;">=&gt; sudo apt-get -y install lua5.2 liblua5.2-dev</font></div><div><font style="font-size: 18px;"># PHP Pear::DB is needed for the runtime website</font></div><div><font style="font-size: 18px;"># There doesn't seem an easy way to avoid this failing if it is already installed.</font></div><div><font style="font-size: 18px;">=&gt; sudo pear install DB</font></div><div><font style="font-size: 18px;"><br/></font></div><div><span style="font-size: 18px;"><b>Step 3</b>. <span style="font-size: 18px;"><b><i>Getting the Nominatim Software</i></b></span></span></div><div><span style="font-size: 18px;">=&gt; sudo mkdir /opt/nominatim &amp;&amp; sudo chown osm:osm /opt/nominatim</span></div><div><span style="font-size: 18px;"># Login as &quot;osm&quot; and setup your &quot;.bashrc&quot; if you want</span></div><div><span style="font-size: 18px;">=&gt; cd /opt/nominatim</span></div><div><span style="font-size: 18px;">=&gt; su osm</span></div><div><span style="font-size: 18px;">=&gt; wget </span><a style="font-size: 18px;" href="http://www.nominatim.org/release/Nominatim-2.4.0.tar.bz2">http://www.nominatim.org/release/Nominatim-2.4.0.tar.bz2</a></div><div><span style="font-size: 18px;">=&gt; tar xvf Nominatim-2.4.0.tar.bz2 &amp;&amp; mkdir Nominatim</span></div><div><span style="font-size: 18px;">=&gt; mv Nominatim-2.4.0 Nominatim</span></div><div><span style="font-size: 18px;">… We stopped here…Nov.18, 5:30PM</span></div><div><span style="font-size: 18px;">=&gt; ./autogen.sh</span></div><div><span style="font-size: 18px;">=&gt; ./configure</span></div><div><span style="font-size: 18px;">=&gt; make</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;"><b>Step 4</b>: <b><i>Get Wikipedia data which helps with name importance hinting</i></b></span></div><div><span style="font-size: 18px;">=&gt; wget --output-document=data/wikipedia_article.sql.bin </span><a style="font-size: 18px;" href="http://www.nominatim.org/data/wikipedia_article.sql.bin">http://www.nominatim.org/data/wikipedia_article.sql.bin</a></div><div><span style="font-size: 18px;"/><span style="font-size: 18px;">=&gt; wget --output-document=data/wikipedia_redirect.sql.bin </span><a style="font-size: 18px;" href="http://www.nominatim.org/data/wikipedia_redirect.sql.bin">http://www.nominatim.org/data/wikipedia_redirect.sql.bin</a></div><div><font style="font-size: 18px;"><br/></font></div></en-note>
