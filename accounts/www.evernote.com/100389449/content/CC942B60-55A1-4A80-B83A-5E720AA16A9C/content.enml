<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div><span style="font-weight: bold; font-size: 24px;">The Backup Location</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);">#: Written by KFH: </span><a href="mailto:karshi.hasanov@utoronto.ca" style="color: rgb(146, 146, 146);">karshi.hasanov@utoronto.ca</a></div><div><span style="color: rgb(146, 146, 146);">#: Date: March 24, 2018</span></div><div><span style="color: rgb(146, 146, 146);">#: Description: How to backup import file system partitions to a file.</span></div><div><span style="color: rgb(146, 146, 146);">#: Last Modified:</span></div><div><span style="color: rgb(146, 146, 146);"><br /></span></div><div><span style="color: rgb(146, 146, 146);"># We will be saving our backups in the sdcard on phone</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/ #</span> <span style="font-weight: bold;">cd</span><span style="color: rgb(148, 17, 0);"> /data/media/0</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/ #</span> <span style="font-weight: bold;">mkdir</span> <span style="color: rgb(148, 17, 0);">backups</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Make sure that folder is owned by “media_rw” user and group:</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/ #</span> <span style="font-weight: bold;">chown</span> <span style="color: rgb(0, 143, 0);">media_rw</span>:<span style="color: rgb(4, 51, 255);">media_rw</span> backups/*</div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># “boot” partition:</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/data/media/0/backups # </span><span style="font-weight: bold;">dd if=</span><span style="color: rgb(148, 17, 0);">/dev/block/</span><span style="color: rgb(148, 55, 255);">mmcblk0p10</span><span style="font-weight: bold;"> of=</span><span style="color: rgb(0, 150, 255);">boot.img</span></div><div>32768+0 records in</div><div>32768+0 records out</div><div>16777216 bytes transferred in 0.863 secs (19440574 bytes/sec)</div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># “system” partition:</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/data/media/0/backups #</span> <span style="font-weight: bold;">dd if=</span><span style="color: rgb(148, 17, 0);">/dev/block/</span><span style="color: rgb(148, 55, 255);">mmcblk0p16</span> <span style="font-weight: bold;">of=</span><span style="color: rgb(0, 150, 255);">system.img</span></div><div>2097152+0 records in</div><div>2097152+0 records out</div><div>1073741824 bytes transferred in 56.412 secs (19033925 bytes/sec)</div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># “recovery” partition:</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/data/media/0/backups # </span><span style="font-weight: bold;">dd</span> <span style="font-weight: bold;">if=</span><span style="color: rgb(148, 17, 0);">/dev/block/</span><span style="color: rgb(148, 55, 255);">mmcblk0p19</span> <span style="font-weight: bold;">of=</span><span style="color: rgb(0, 150, 255);">recovery.img</span></div><div>32768+0 records in</div><div>32768+0 records out</div><div>16777216 bytes transferred in 0.843 secs (19901798 bytes/sec)</div><div><br /></div><div><span style="color: rgb(146, 146, 146);">#’”modem” ( firmware)</span></div><div><span style="color: rgb(255, 47, 146);">root@XP7700:/data/media/0/backups #</span> <span style="font-weight: bold;">dd</span> <span style="font-weight: bold;">if=</span><span style="color: rgb(148, 17, 0);">/dev/block/</span><span style="color: rgb(148, 55, 255);">mmcblk0p1</span><span style="font-weight: bold;"> of=</span><span style="color: rgb(0, 150, 255);">modem.img</span></div><div>131072+0 records in</div><div>131072+0 records out</div><div>67108864 bytes transferred in 3.888 secs (17260510 bytes/sec)</div><div><br /></div><div><span style="color: rgb(255, 64, 255);"># Don’t backup the “userdata” this way! It is too large.</span></div><div><br /></div><div><span style="font-weight: bold; font-size: 24px;">Moving the Backup to the MAC OS X </span></div><div><span style="color: rgb(146, 146, 146);"># Note: I could have used the Android File Tranfer to download the backups.</span></div><div><span style="color: rgb(146, 146, 146);"># If for some reason, you can't see the “backup” folder means you have a permission problem.</span></div><div><span style="color: rgb(146, 146, 146);"># Don’t forget to make the “media_rw” user to be owner of the folder and anything inside.</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Important: When you work inside the system, the SD card is “/data/media/0” and</span></div><div><span style="color: rgb(146, 146, 146);"># when you are using the “adb” command it maps to “/sdcard”</span></div><div><span style="color: rgb(146, 146, 146);">#  “/data/media/0”   ———&gt;  “/sdcard”</span></div><div>=&gt;<span style="font-weight: bold;"> cd</span><span style="color: rgb(148, 17, 0);"> /Volumes/Data/KFH/KFH_Projects/Android/Sonim_XP_770/backups/March_25_2018</span></div><div>=&gt; <span style="font-weight: bold;">adb</span> <span style="color: rgb(146, 144, 0);">pull </span><span style="color: rgb(148, 17, 0);">/sdcard/backups/</span><span style="color: rgb(0, 150, 255);">boot.img</span></div><div>=&gt;<span style="font-weight: bold;"> adb</span><span style="color: rgb(146, 144, 0);"> pull</span> <span style="color: rgb(148, 17, 0);">/sdcard/backups/</span><span style="color: rgb(0, 150, 255);">system.img</span></div><div>=&gt;<span style="font-weight: bold;"> adb</span> <span style="color: rgb(146, 144, 0);">pull </span><span style="color: rgb(148, 17, 0);">/sdcard/backups/</span><span style="color: rgb(0, 150, 255);">recovery.img</span></div><div>=&gt; <span style="font-weight: bold;">adb</span> <span style="color: rgb(146, 144, 0);">pull </span><span style="color: rgb(148, 17, 0);">/sdcard/backups/</span><span style="color: rgb(0, 150, 255);">modem.img</span></div><div><br /></div><div><span style="color: rgb(0, 145, 147);">Now we have the backup of the most important partions and you can do whatever</span></div><div><span style="color: rgb(0, 145, 147);">you wanna do with them in Ubuntu. Just make sure that you get the copies of these files.</span></div><div><span style="color: rgb(0, 145, 147);">Our task is complete!</span></div><div><br /></div><div><br /></div></en-note>