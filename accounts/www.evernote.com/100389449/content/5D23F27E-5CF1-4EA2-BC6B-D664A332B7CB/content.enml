<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note><div><span style="color: rgb(145, 145, 145);"># Written by KFH: </span><a style="color: rgb(145, 145, 145);" href="mailto:karshi.hasanov@utoronto.ca">karshi.hasanov@utoronto.ca</a></div><div><span style="color: rgb(145, 145, 145);"># Date : September 12, 2010</span></div><div><span style="color: rgb(145, 145, 145);"># Last Modified: August 18, 2017</span></div><div><span style="color: rgb(145, 145, 145);"># Description: The FreeBSD Ports and Packages installation &amp; upgrade</span></div><div><span style="color: rgb(145, 145, 145);"># There are two ways of installing apps:</span></div><div><span style="color: rgb(145, 145, 145);"># 1. Using the Ports Tree from the source code.</span></div><div><span style="color: rgb(145, 145, 145);"># 2. Using the pkg tool which installs the binary versions.</span></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px; color: rgb(4, 51, 255);">Method I</span><span style="font-weight: bold; font-size: 24px;">: </span><span style="font-weight: bold; font-size: 24px; color: rgb(0, 150, 255);">Installing the Applications uing the Ports</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Require: The Ports Coleection.</span></div><div><span style="color: rgb(145, 145, 145);"># The base system of FreeBSD includes the ports, so you can install</span></div><div><span style="color: rgb(145, 145, 145);"># during the OS installation.</span></div><div><span style="color: rgb(145, 145, 145);"># Optional (Recommended): Install one of the Ports Management Utility,</span></div><div><span style="color: rgb(145, 145, 145);"># such as “potmaster”, “portupgrade” or lastest “synth”.</span></div><div><span style="color: rgb(145, 145, 145);"># All these utilities are located under “/usr/ports/ports-mgmt”</span></div><div><span style="color: rgb(145, 145, 145);"># I will be using the /usr/ports/ports-mgmt/synth.</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Always make sure that you update the Ports tree before installing anything</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span><span style="color: rgb(148, 17, 0);"> /usr/sbin/</span><span style="font-weight: bold;">portsnap</span> <span style="font-weight: bold;">fetch update</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Installing a software: As an example , we will install the lsof utility.</span></div><div>=&gt;<span style="font-weight: bold;"> cd</span><span style="color: rgb(148, 17, 0);"> /usr/ports/sysutils/lsof</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span> <span style="font-weight: bold;">make install clean</span></div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># The last command does two things :</span></div><div><span style="color: rgb(146, 146, 146);"># - It creates the Makefile with OPTIONS you choose</span></div><div><span style="color: rgb(146, 146, 146);"># - It will install . If you had the previous version of the software</span></div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># Later you might want to change the configuration OPTIONS you’ve choosen</span></div><div><span style="color: rgb(146, 146, 146);"># during the make. To do so, you need to remove the old configuration first!</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span> <span style="font-weight: bold;">make rmconfig </span></div><div><span style="color: rgb(146, 146, 146);"># Other wise, you will NOT be given a change to make a modification.</span></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">Upgrading the Applications using the Ports</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Always update the ports first!</span></div><div>=&gt;<span style="color: rgb(255, 38, 0);"> sudo</span><span style="color: rgb(148, 17, 0);">  /usr/sbin/</span><span style="font-weight: bold;">portsnap fetch update</span></div><div>=&gt;<span style="font-weight: bold;"> cd</span> <span style="color: rgb(148, 17, 0);">/usr/ports/path/to/your/app</span></div><div>=&gt;<span style="color: rgb(255, 38, 0);"> sudo</span> <span style="font-weight: bold;">make  deinstall</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span> <span style="font-weight: bold;">make clean</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span> <span style="font-weight: bold;">make reinstall</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">Installing the Ports Managment Utility: </span><span style="font-weight: bold; font-size: 24px; color: rgb(4, 51, 255);">Synth</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Install the dependencies:</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span> <span style="font-weight: bold;">pkg install</span> <span style="color: rgb(0, 144, 81);">gcc6-aux ncurses</span> <span style="color: rgb(145, 145, 145);"># Don’t use the ports to install these packages ( recommended )</span></div><div>=&gt; <span style="font-weight: bold;">cd</span> <span style="color: rgb(148, 17, 0);">/usr/ports/ports-mgmt/synth</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span><span style="font-weight: bold;"> make install clean</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">Upgrading the applications using the Synth</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># The following command will list the installed ports which are out of date:</span></div><div>=&gt; <span style="font-weight: bold;">pkg version</span><span style="color: rgb(0, 145, 147);"> -l</span> “<span style="color: rgb(255, 38, 0);">&lt;</span>“    ( small  “<span style="color: rgb(0, 145, 147);">L</span>&quot; not the number “1”)</div><div><span style="color: rgb(146, 146, 146);">Output : png-1.6.29  </span>                       &lt;</div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Next we want to know the location the application relative to “</span><span style="color: rgb(148, 17, 0);">/usr/ports/</span><span style="color: rgb(145, 145, 145);">&quot;</span></div><div>=&gt; <span style="font-weight: bold;">pkg info</span> <span style="color: rgb(4, 51, 255);">png</span> <span style="font-weight: bold;">| grep -i</span> origin</div><div><span style="color: rgb(146, 146, 146);">Output -&gt; Origin         : </span><span style="color: rgb(148, 17, 0);">graphics/png</span></div><div><br/></div><div><span style="color: rgb(145, 145, 145);"># Now we can upgrade the png using the Synth </span></div><div>=&gt;<span style="color: rgb(255, 38, 0);"> sudo</span><span style="font-weight: bold;"> synth install</span> <span style="color: rgb(148, 17, 0);">graphics/png</span></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px; color: rgb(4, 51, 255);">Method II:</span><span style="font-weight: bold; font-size: 24px;"> </span><span style="font-weight: bold; font-size: 24px; color: rgb(0, 150, 255);">Installing the Applications using the pkg</span></div><div><br/></div><div>=&gt; <span style="font-weight: bold;">pkg help</span>    <span style="color: rgb(146, 146, 146);"># Lists all the available commands</span></div><div>=&gt;<span style="font-weight: bold;"> pkg help</span><span style="color: rgb(255, 64, 255);"> &lt;command&gt;</span>  <span style="color: rgb(146, 146, 146);"># Shows the options for a specific command</span></div><div> </div><div><span style="color: rgb(146, 146, 146);"># To install and register a package  on the system:</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span><span style="font-weight: bold;"> pkg</span><span style="color: rgb(0, 143, 0);"> install</span> <span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span> </div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># To delete a package from the database and the system</span></div><div>=&gt; <span style="color: rgb(255, 38, 0);">sudo</span> <span style="font-weight: bold;">pkg</span> <span style="color: rgb(255, 47, 146);">delete </span><span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span></div><div>=&gt;<span style="color: rgb(255, 38, 0);"> sudo</span> <span style="font-weight: bold;">pkg</span> <span style="color: rgb(255, 47, 146);">remove</span> <span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span>  ( does the same thing )</div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># To display  all installed packages </span></div><div>=&gt;<span style="font-weight: bold;"> pkg</span><span style="color: rgb(0, 150, 255);"> info</span><span style="color: rgb(255, 64, 255);"> -a </span></div><div>=&gt;<span style="font-weight: bold;"> pkg</span><span style="color: rgb(0, 150, 255);"> info</span> <span style="color: rgb(255, 64, 255);">-a </span>| <span style="font-weight: bold;">grep</span> <span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span>  <span style="color: rgb(146, 146, 146);"># Displays installed version of a specific package (such as “</span><span style="color: rgb(148, 17, 0);">apache</span><span style="color: rgb(146, 146, 146);">”)</span></div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># To display the full inforamtion about a package use the “-f” option</span></div><div>=&gt; <span style="font-weight: bold;">pkg</span><span style="color: rgb(0, 150, 255);"> info</span> <span style="color: rgb(255, 64, 255);">-f</span> <span style="color: rgb(148, 82, 0);">&lt;full_package_name&gt;</span> <span style="color: rgb(146, 146, 146);"> # &lt;full_package_name&gt; such as &quot;</span><span style="color: rgb(148, 82, 0);">apache24-2.4.27</span><span style="color: rgb(146, 146, 146);">&quot; </span></div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># To show the list of packages on which &lt;pkg_name&gt; is depends ( won’t work without these packages)</span></div><div>=&gt; <span style="font-weight: bold;">pkg</span><span style="color: rgb(0, 150, 255);"> info</span> <span style="color: rgb(255, 64, 255);">-d</span> <span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span></div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># To show the list of packages which require this &lt;pkg_name&gt; to be installed </span></div><div><span style="color: rgb(146, 146, 146);"># ( those packages will stop working if you uninstall the &lt;pkg_name&gt;</span></div><div>=&gt; <span style="font-weight: bold;">pkg</span> info <span style="color: rgb(255, 64, 255);">-r</span> <span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span></div><div><br/></div><div><span style="color: rgb(146, 146, 146);"># To display the package message:</span></div><div>=&gt; <span style="font-weight: bold;">pkg</span><span style="color: rgb(0, 150, 255);"> info</span> <span style="color: rgb(255, 64, 255);">-D</span> <span style="color: rgb(148, 17, 0);">&lt;pkg_name&gt;</span></div><div><span style="color: rgb(146, 146, 146);">Example:</span></div><div>=&gt;<span style="font-weight: bold;"> pkg</span><span style="color: rgb(0, 150, 255);"> info</span> <span style="color: rgb(255, 64, 255);">-D</span><span style="color: rgb(148, 82, 0);"> apache24-2.4.27 </span></div><div>=&gt;<span style="font-weight: bold;"> pkg</span><span style="color: rgb(0, 150, 255);"> info</span><span style="color: rgb(255, 64, 255);"> -D</span> <span style="color: rgb(148, 82, 0);">apache24</span></div><div>=&gt;<span style="font-weight: bold;"> pkg</span> <span style="color: rgb(0, 150, 255);">info</span> <span style="color: rgb(255, 64, 255);">-D</span> <span style="color: rgb(148, 82, 0);">apache</span> ( <span style="color: rgb(255, 38, 0);">won’t work !</span><span style="color: rgb(145, 145, 145);"> There might be an other version of Apache ( i.e. Apache22</span>)</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></en-note>
