<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div><span style="font-size: 24px; font-weight: bold;">Installation</span></div><div><br /></div><div># Update the Ports Tree first!</div><div>=&gt;<span style="font-weight: bold;"> cd</span> <span style="color: rgb(148, 17, 0);">/usr/ports/databases/postgresql96-server</span></div><div>=&gt;<span style="color: rgb(255, 47, 146);"> sudo</span><span style="font-weight: bold;"> make install</span></div><div># Check: DTRACE, ICU,INTDATE,NLS,OPTIMIZED CFLAGS, SSL</div><div># Posgresql96-client: Leave the defaults</div><div><span style="color: rgb(146, 146, 146); font-style: italic;"># Message:</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">To initialize the database, run</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">     /usr/local/etc/rc.d/postgresql initdb</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">You can then start PostgreSQL by running:</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">     /usr/local/etc/rc.d/postgresql start</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">To run PostgreSQL at startup, add</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">'postgresql_enable="YES"' to /etc/rc.conf</span></div><div><br /></div><div># Edit the “/etc/rc.conf” and add the line</div><div><span style="font-weight: bold;">postgresql_enable</span>=“<span style="color: rgb(0, 144, 81);">YES</span>"</div><div>=&gt;<span style="color: rgb(255, 47, 146);"> sudo </span>/usr/local/etc/rc.d/postgresql initdb</div><div><span style="color: rgb(146, 146, 146); font-style: italic;"># Message:</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">WARNING: enabling "trust" authentication for local connections</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">You can change this by editing pg_hba.conf or using the option -A, or</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">--auth-local and --auth-host, the next time you run initdb.</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">Success. You can now start the database server using:</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">    /usr/local/bin/pg_ctl -D /var/db/postgres/data96 -l logfile start</span></div><div><br /></div><div>=&gt; <span style="color: rgb(255, 47, 146);">sudo</span><span style="font-weight: bold;"> service </span><span style="color: rgb(4, 51, 255);">postgresql</span> <span style="color: rgb(0, 144, 81);">start</span></div><div>=&gt; <span style="color: rgb(255, 47, 146);">sudo</span> <span style="font-weight: bold;">service</span><span style="color: rgb(4, 51, 255);"> postgresql</span><span style="color: rgb(146, 144, 0);"> status</span></div><div><span style="color: rgb(146, 144, 0);"># pg_ctl: server is running (PID: 23361)</span></div><div><span style="color: rgb(146, 144, 0);"># /usr/local/bin/postgres "-D" "/var/db/postgres/data96”</span></div><div><br /></div><div># Edit "/var/db/postgres/data96/postgresql.conf” and</div><div>listen_addresses = ‘*’    # To listen all IP’s </div><div># Edit “/var/db/postgres/data96/pg_hba.conf” and allow local network access</div><div>host    all             all             192.168.100.1/24        trust</div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">Server Configuration Files </span></div><div># The main files are located under</div><div><span style="color: rgb(148, 17, 0);">/var/db/postgres/data96</span></div><div><span style="color: rgb(148, 17, 0);">/var/db/postgres/data96/</span><span style="color: rgb(0, 150, 255);">postgresql.conf</span></div><div><span style="color: rgb(148, 17, 0);">/var/db/postgres/data96/</span><span style="color: rgb(0, 150, 255);">pg_hba.conf</span></div><div><br /></div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">Default User and Interactive Usage</span></div><div><span style="color: rgb(146, 146, 146);"># By default, PostgreSQL creates a user </span><span style="color: rgb(0, 144, 81);">postgres</span><span style="color: rgb(146, 146, 146);"> and group </span><span style="color: rgb(148, 55, 255); font-weight: bold;">postgres</span><span style="color: rgb(146, 146, 146); font-weight: bold;"> t</span><span style="color: rgb(146, 146, 146);">o maintain PostgreSQL instance.</span></div><div><span style="color: rgb(146, 146, 146);"># To set the password for postgres user:</span></div><div>=&gt; <span style="color: rgb(255, 47, 146);">sudo</span> <span style="color: rgb(148, 55, 255);">passwd</span><span style="color: rgb(0, 144, 81);"> postgres</span></div><div>( Enter your password)</div><div><br /></div><div># After changing the password, login as postgres user:</div><div>=&gt;<span style="color: rgb(255, 47, 146);"> su - </span><span style="color: rgb(0, 144, 81);">postgres</span></div><div># Onece you have logged as the postgres user:</div><div><span style="color: rgb(148, 33, 147);">postgres-user&gt;</span> psql</div><div><span style="color: rgb(146, 144, 0);">postgres=# </span></div><div><span style="color: rgb(146, 144, 0);">#You can now run SQL queries from this shell.</span></div><div><span style="color: rgb(146, 144, 0);"># To exit from the PostgreSQL shell, type \q or \quit.</span></div><div><br /></div><div># You can create a user interactively:</div><div><span style="color: rgb(148, 33, 147);">postgres-user&gt;</span><span style="font-weight: bold;"> createuser</span> <span style="color: rgb(146, 146, 146);">--interactive </span></div><div><br /></div><div># Options To createuser</div><div># The CAPITAL letters opposite to small letter</div><div><br /></div><div> “-l” means allow a new user login (default) , “-L” means disallow login</div><div>“-d” means allow a user to create a “database”, “-D” disallow</div><div> "-r” means allow a new user to create roles, “-R” disallow</div><div>“-s” a new user will be superuser, “-S” do not allow to be a superuser</div><div> <span style="color: rgb(148, 33, 147);">postgres-user&gt;</span><span style="font-weight: bold;"> createuser</span> <span style="color: rgb(255, 47, 146);">-SDR</span> <span style="color: rgb(4, 51, 255);">www</span></div><div> “-P” means a new user will be asked to give a new password</div><div>( there is no “-p” option )</div><div>For more deatils, read: </div><div><a href="https://www.postgresql.org/docs/9.6/static/app-createuser.html">https://www.postgresql.org/docs/9.6/static/app-createuser.html</a></div><div><br /></div><div><br /></div><div><br /></div></en-note>