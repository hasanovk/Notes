<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div><span style="color: rgb(146, 146, 146);">#: Website: </span><a href="http://hub.docker.com" style="color: rgb(146, 146, 146);">http://hub.docker.com</a></div><div><span style="color: rgb(146, 146, 146);">#: User: khasanov</span></div><div><span style="color: rgb(146, 146, 146);">#: Password: OLDBASE</span></div><div><span style="color: rgb(146, 146, 146);">#: Email: UofT</span></div><div><span style="color: rgb(146, 146, 146);">#: Repository Name : kfh-images</span></div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">Docker Basics</span></div><div># If needed:</div><div># =&gt; docker login</div><div># khasanov/OldBase</div><div><br /></div><div># How to search an image</div><div>=&gt;<span style="font-weight: bold;"> docker</span><span style="color: rgb(0, 143, 0); font-weight: bold;"> search</span> <span style="color: rgb(4, 51, 255);">ubuntu</span></div><div><br /></div><div># To download an image:</div><div>=&gt; <span style="font-weight: bold;">docker</span><span style="color: rgb(0, 143, 0); font-weight: bold;"> pull</span><span style="color: rgb(4, 51, 255);"> ubuntu</span></div><div># same as =&gt; docker pull ubuntu:latest</div><div><br /></div><div># How to run the image:</div><div>=&gt;<span style="font-weight: bold;"> docke</span>r <span style="color: rgb(0, 143, 0);">run</span> <span style="font-weight: bold;">-ti</span> --<span style="font-weight: bold;">name</span>=<span style="color: rgb(79, 143, 0);">kfh-ubuntu</span> <span style="color: rgb(4, 51, 255);">ubuntu</span> <span style="color: rgb(148, 17, 0);">/bin/bash</span></div><div><br /></div><div># To get back press “Control + P+Q”</div><div># To see how many containers are currently running in your system:</div><div>=&gt;<span style="font-weight: bold;"> docker ps </span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># To stop a container</span></div><div><span style="color: rgb(146, 146, 146);">=&gt; docker stop &lt; CONTAINER ID&gt; or &lt;NAMES&gt;</span></div><div>=&gt;<span style="font-weight: bold;"> docker</span><span style="color: rgb(255, 47, 146);"> stop</span> <span style="color: rgb(4, 51, 255);">db8d0869540f  </span><span style="color: rgb(146, 146, 146);"># or </span><span style="color: rgb(145, 145, 145);">hopeful_wilson</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># This will start without attacing ( no shell promt)</span></div><div><font color="#929292"># To attach the container after the starting “-d” option (deattach mode):</font></div><div>=&gt; <span style="font-weight: bold;">docke</span>r <span style="color: rgb(0, 145, 147);">attach</span> <span style="color: rgb(4, 51, 255);">db8d0869540f</span></div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">Removing Docker Containers </span></div><div><br /></div><div><font color="#929292"># “-q”  prints only the container ID’s</font></div><div><font color="#929292"># “-a”  prints </font><span style="color: rgb(146, 146, 146); font-style: italic;">all</span><span style="color: rgb(146, 146, 146);"> containers</span></div><div><font color="#929292"># To see all running containers:</font></div><div>=&gt; <b>docker</b> <font color="#0433ff">ps</font> <font color="#009051">-a </font></div><div><br /></div><div><font color="#929292"># To remove a single container:</font></div><div>=&gt; <b>docker</b> <font color="#ff2f92">rm</font> <font color="#941100">&lt;ContainerID&gt;</font></div><div>=&gt;<b> docker</b> <font color="#ff2f92">rm</font><font color="#941100"> d7ad4bdaedd2</font></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># To list all exited containers:</span></div><div>=&gt; <span style="font-weight: bold;">docker<font color="#0433ff"> ps</font></span> <span style="color: rgb(255, 47, 146);">-aq</span> <span style="color: rgb(0, 145, 147);">-f </span><span style="font-weight: bold;">status</span>=<span style="color: rgb(79, 143, 0);">exited</span></div><div># To remove all containers:</div><div>=&gt; <b>docker</b> <font color="#0433ff">ps </font><font color="#009051">-q -a</font> | <b>xargs</b> <b>docker </b><font color="#ff2f92">rm</font></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># To remove stopped containers:</span></div><div>=&gt; <b>docker</b><font color="#0433ff"> ps</font> <font color="#009051">-aq </font><span style="font-weight: bold;">--no-trunc | xargs docker<font color="#ff2f92"> rm</font></span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># To remove the containers created after a specific container:</span><br /></div><div>=&gt; docker ps --since &lt;specified-container&gt; -q | xargs docker rm</div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># To remove the containers created before a specific container:</span></div><div>=&gt; docker ps --before &lt;specified-container&gt; -q | xargs docker rm</div><div><br /></div><div><b><font style="font-size: 24px;">Deleting Docker Images</font></b></div><div><font color="#929292"># To see all images</font></div><div>=&gt;<b> docker</b><font color="#0433ff"> images</font></div><div><font color="#929292"># To delete a single image:</font></div><div>=&gt;<b> docker</b><font color="#ff2f92"> rmi</font> <font color="#945200">&lt;ImageID&gt;</font></div><div>=&gt; <b>docker</b><font color="#ff2f92"> rmi</font> <font color="#941100">6356cb94f7dc</font></div><div><font color="#929292"><br /></font></div><div><span style="color: rgb(146, 146, 146);"># To remove dangling(untagged) images :</span></div><div>=&gt;<span style="font-weight: bold;"> docker</span><font color="#0433ff"><span style="font-weight: bold;"> </span>images</font> <font color="#008f00">-q</font> <span style="font-weight: bold;">--filter</span> dangling=<font color="#008f00">true</font> |<b> xargs docker</b> <font color="#ff2f92">rmi</font></div><div><font color="#ff2f92"><br /></font></div><div># Delete All Untagged Images</div><div># This requires a little bit of Linux magic (like deleting all containers above). </div><div># Docker marks images without tags with "&lt;none&gt;" so we need to process only those images. </div><div># Run the following command from your terminal<br /></div><div>=&gt; <b>docker</b> <font color="#ff2f92">rmi</font> <b>$(docker</b><font color="#0433ff"> images </font>| <b>grep</b> "<font color="#941100">&lt;none&gt;</font>" | <b>awk</b> '{<b>print</b> <font color="#941100">$3</font>}’<b> )</b></div><div><b><br /></b></div><div># To delet All Images:</div><div>=&gt;<b> docker</b><font color="#ff2f92"> rmi</font> <b>$(docker</b><font color="#0433ff"> images</font> | <b>awk</b> '{<b>print</b> <font color="#941100">$3</font>}<b>')</b></div><h4><br /></h4><div><span style="font-size: 24px; font-weight: bold;">Creating a Persistent Volume to Share</span></div><div><br /></div><div><font color="#929292"># Usually a container will take with it when you stop or remove, so you will end up nothing.</font></div><div><font color="#929292"># If you want to keep a data on your local machine , you need to do this:</font></div><div><font color="#929292"># =&gt; <b>docker run</b> -ti -v /path/to/local/data:/data <b>--name</b>=&lt;container_name&gt; ubuntu /bin/bash</font></div><div><font color="#929292"># “/path/to/local/data” is the location of your folder you want to share with the docker image</font></div><div><font color="#929292"># “/data” is the folder inside the container ( =&gt; ls / will show you)</font></div><div><font color="#929292"># “—name=“ is the name of your container you want call instead of default one </font></div><div>=&gt; <span style="font-weight: bold;">docker</span><span style="color: rgb(0, 143, 0); font-weight: bold;"> run</span> <span style="font-weight: bold;">-ti</span> <span style="color: rgb(255, 64, 255);">-v /Users/khasanov/tmp</span>:<span style="color: rgb(148, 17, 0);">/data</span> <span style="color: rgb(0, 150, 255);">—name</span>=<span style="color: rgb(0, 150, 255);">my-ubuntu</span> <span style="color: rgb(4, 51, 255);">ubuntu</span><span style="color: rgb(148, 17, 0);"> /bin/bash</span></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div></en-note>