<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div>FreeBSD Installation (ver 11.0 64 bit)</div><div>VMware Fusion Professional: Version 8.5.8</div><div>I've installed  the ZFS file system instead of UFS</div><div>After the installation, the system and packages need to update:</div><div>=&gt; sudo /usr/sbin/<span style="font-weight: bold;">freebsd-update</span> <span style="font-style: italic;">fetch</span></div><div>=&gt; sudo /usr/sbin/<span style="font-weight: bold;">freebsd-update</span> <span style="font-style: italic;">install</span>  </div><div>=&gt; sudo /usr/sbin/<span style="font-weight: bold;">portsnap</span> <span style="font-style: italic;">fetch </span></div><div>=&gt; sudo /usr/sbin/<span style="font-weight: bold;">portsnap</span> <span style="font-style: italic;">extract</span></div><div><br /></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;"># Disable Sendmail   in "/etc/rc.conf"</font></span></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;">sendmail_enable="NO"</font></span></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;">sendmail_submit_enable="NO"</font></span></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;">sendmail_outbound_enable="NO"</font></span></div><div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; font-family: Helvetica;"><font style="font-size: 18px;">sendmail_msp_queue_enable="NO"</font></span></div><div><span style="font-size: 24px; font-weight: bold;">Clock Synchronization with NTP</span></div><div><br /></div><div>Add the line<span style="color: rgb(121, 121, 121);"> </span><span style="color: rgb(1, 25, 147);">ntpd_enable=“YES”</span> in your <span style="font-weight: bold;">/etc/rc.conf </span>file</div><div>Add the following lines in <span style="color: rgb(148, 17, 0);">/etc/ntp.conf</span> file:</div><div>   <span style="color: rgb(148, 17, 0);"> server </span><span style="color: rgb(0, 145, 147);"> 0.ca.pool.ntp.org</span> <span style="color: rgb(4, 51, 255);">prefer</span></div><div><span style="color: rgb(148, 17, 0);">    server  </span><span style="color: rgb(0, 145, 147);">1.ca.pool.ntp.org</span><span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(255, 38, 0);">iburst</span></div><div><span style="color: rgb(148, 17, 0);">    server </span><span style="color: rgb(0, 145, 147);"> 2.ca.pool.ntp.org</span><span style="color: rgb(148, 17, 0);"> </span><span style="color: rgb(255, 38, 0);">iburst</span></div><div>   <span style="color: rgb(121, 121, 121);"> # The drift file is located under /var/db/ntpd.drift by default</span></div><div><br /></div><div><span style="color: rgb(121, 121, 121);"># To update the time</span></div><div>=&gt;<span style="font-weight: bold;"> sudo ntpdate -v -b</span> <a href="http://0.ca.pool.ntp.org">0.ca.pool.ntp.org</a></div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">Installing the VMware Tools</span></div><div><br /></div><div>Step 1: =&gt; sudo pkg install -y perl5</div><div>Step 2: =&gt; sudo pkg install -y compat6x-amd64</div><div>Step 3: “Virtual Machine” -&gt; “Install VM Tools”</div><div>Step 4: Mount the CD and copy "vmware-freebsd-tools.tar.gz” to some folder</div><div>Step 5: In my case , I put it under /home/khasanov/vmtools and extracted</div><div>Step 6: We need to fix the problem with the module “os.c” which cause some problems:</div><div>            =&gt; cd /home/khasanov/vmtools/vmware-tools-distrib/lib/modules/source</div><div>            =&gt; tar -xvf  vmmemctl.tar</div><div>            =&gt; cd vmmemctl-only</div><div>            # Edit the os.c file and change “cnt.v_page_count” to “vm_cnt.v_page_count”</div><div>            # Just “cnt” -&gt; “vm_cnt”</div><div>            =&gt; make</div><div>            =&gt; sudo make install</div><div>            # The above step will create  “vmmemctl.ko" in /boot/modules/</div><div>            # Make sure that you have the backup copy of it </div><div>            =&gt; sudo cp /boot/modules/vmmemctl.ko  /boot/modules/vmmemctl.ko_backup</div><div>            # First time you install, it will overwrite the file , but you have to put back from the backup</div><div>            # Then run the vmtools again, somewhere it should ask your permissions to overwrite</div><div>            # Say “no” </div><div>            <span style="color: rgb(148, 17, 0);">The file /boot/modules/vmmemctl.ko that this program was about to install</span></div><div><span style="color: rgb(148, 17, 0);">            already exists.  Overwrite?</span> [yes] <span style="color: rgb(255, 47, 146);">no</span></div><div>Step 7. If everything goes well, you should see “Reinstall VM Tools” in the Menu.</div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><span style="font-size: 24px; font-weight: bold;">How To Upgrade the FreeBSD ( Minor Upgrade)</span></div><div><br /></div><div>We are going to upgrade the FreeBSD - <span style="font-weight: bold;">11.0-RELEASE</span> to <span style="font-weight: bold;">11.1-RELEASE</span></div><div><br /></div><div>=&gt; <span style="font-weight: bold;">sudo</span><span style="color: rgb(1, 25, 147); font-weight: bold;"> </span><span style="color: rgb(1, 25, 147);">freebsd-update fetch</span></div><div>=&gt;<span style="font-weight: bold;"> sudo </span><span style="color: rgb(0, 144, 81);">freebsd-update install</span></div><div>=&gt; <span style="font-weight: bold;">sudo </span><span style="color: rgb(0, 145, 147);">freebsd-update upgrade </span><span style="color: rgb(0, 145, 147); font-weight: bold;">-r</span><span style="color: rgb(0, 145, 147);"> </span><span style="color: rgb(0, 145, 147); font-style: italic;">11.1-RELEASE</span></div><div><br /></div><div>=&gt;<span style="font-weight: bold;"> sudo</span> <span style="color: rgb(0, 144, 81);">freebsd-update install</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">Installing updates...</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">Kernel updates have been installed.  Please reboot and run</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">"/usr/sbin/freebsd-update install" again to finish installing updates.</span></div><div>=&gt; <span style="font-weight: bold;">sudo </span><span style="color: rgb(148, 17, 0);">shutdown </span><span style="color: rgb(148, 17, 0); font-weight: bold;">-r</span><span style="color: rgb(148, 17, 0);"> now</span></div><div><br /></div><div>=&gt; <span style="font-weight: bold;">sudo</span><span style="color: rgb(0, 143, 0); font-weight: bold;"> </span><span style="color: rgb(0, 143, 0);">freebsd-update install</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">Installing updates...</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">Completing this upgrade requires removing old shared object files.</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">Please rebuild all installed 3rd party software (e.g., programs</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">installed from the ports tree) and then run "/usr/sbin/freebsd-update install"</span></div><div><span style="color: rgb(146, 146, 146); font-style: italic;">again to finish installing updates.</span></div><div><br /></div><div><span style="color: rgb(146, 146, 146);"># Since this is the “minor” upgrade and also I lready “portsnap fetch upgrade”</span></div><div><span style="color: rgb(146, 146, 146);"># not too lonf ago, I don’t have upgrade any packages.</span></div><div>=&gt; <span style="font-weight: bold;">sudo </span><span style="color: rgb(79, 143, 0);">freebsd-update install</span></div><div> <span style="color: rgb(121, 121, 121);"># Final reboot </span></div><div>=&gt; <span style="font-weight: bold;">sudo</span><span style="color: rgb(255, 38, 0); font-weight: bold;"> </span><span style="color: rgb(255, 38, 0);">shutdown </span><span style="color: rgb(255, 38, 0); font-weight: bold;">-r</span><span style="color: rgb(255, 38, 0);"> now </span></div><div><br /></div><div><span style="color: rgb(148, 55, 255);">[khasanov@freebsd /~]$</span> <span style="font-weight: bold;">uname -r</span></div><div>11.1-RELEASE</div></en-note>